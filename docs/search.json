[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Felix Betancourt’s Blog - DACSS - UMASS",
    "section": "",
    "text": "Post 2- Final Project FB - Scrapping Data and Exploratory Analysis - 695N Course\n\n\nDACSS 695N Social Network Analysis\n\n\n\n\n\n\n\n\n\nApr 19, 2024\n\n\nE. Song/ Felix Betancourt\n\n\n\n\n\n\n  \n\n\n\n\nFinal Project Check-in #1 - 695N DACSS course - Spring 2024\n\n\n\n\n\n\n\nSocial Network\n\n\nFinal Project\n\n\nSocial Media\n\n\n\n\n\n\n\n\n\n\n\nMar 10, 2024\n\n\nFelix Betancourt\n\n\n\n\n\n\n  \n\n\n\n\nTest post for 695N DACSS course - Spring 2024\n\n\n\n\n\n\n\nSocial Network\n\n\nBlog test\n\n\n\n\n\n\n\n\n\n\n\nFeb 6, 2024\n\n\nFelix Betancourt\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/Final Project Check-in 1/index.html",
    "href": "posts/Final Project Check-in 1/index.html",
    "title": "Final Project Check-in #1 - 695N DACSS course - Spring 2024",
    "section": "",
    "text": "I am interested in understanding how social media users influence each other and create communities around specific topics.\nSpecifically, I would like to explore this topic using Reddit to understand more in the context of domestic Politics.\n\n\n\nIn particular:\n\nHow are Reddit users connected/related in the “Politics” subreddit (r/politics), particularly when it comes to topics related to Biden and Trump?\nAre there different communities (networks) for Biden and Trump?\nIs there a relationship between “upvotes” for a post, number of comments and how it is related to the key users in the network?\n\n\n\n\n\nI will scrap data from the Politics subreddit (r/politics) using R (RedditExtractoR package)\nThis subreddit has 8.5 million users, so the data can be very extensive, so I’ll scrap the post only for the last 3 months.\nI can extract the usernames, votes, and titles of the posts, among other information like the time stamp and a tree of comments for the original post.\nI’ll use Text as Data methods to identify key words in the title of the posts (like Biden-Trump, or other topics of interest).\n\n\n\n\n\nWith 8.5 million users I am not sure if I’ll be able to identify most frequent users (maybe the data can bevery fragmented), but I’ll try to identify users with certain number of posts or replies to narrow the network analysis."
  },
  {
    "objectID": "posts/Final Project Check-in 1/index.html#final-project-check-in-1",
    "href": "posts/Final Project Check-in 1/index.html#final-project-check-in-1",
    "title": "Final Project Check-in #1 - 695N DACSS course - Spring 2024",
    "section": "",
    "text": "I am interested in understanding how social media users influence each other and create communities around specific topics.\nSpecifically, I would like to explore this topic using Reddit to understand more in the context of domestic Politics.\n\n\n\nIn particular:\n\nHow are Reddit users connected/related in the “Politics” subreddit (r/politics), particularly when it comes to topics related to Biden and Trump?\nAre there different communities (networks) for Biden and Trump?\nIs there a relationship between “upvotes” for a post, number of comments and how it is related to the key users in the network?\n\n\n\n\n\nI will scrap data from the Politics subreddit (r/politics) using R (RedditExtractoR package)\nThis subreddit has 8.5 million users, so the data can be very extensive, so I’ll scrap the post only for the last 3 months.\nI can extract the usernames, votes, and titles of the posts, among other information like the time stamp and a tree of comments for the original post.\nI’ll use Text as Data methods to identify key words in the title of the posts (like Biden-Trump, or other topics of interest).\n\n\n\n\n\nWith 8.5 million users I am not sure if I’ll be able to identify most frequent users (maybe the data can bevery fragmented), but I’ll try to identify users with certain number of posts or replies to narrow the network analysis."
  },
  {
    "objectID": "posts/My-new-post/index.html",
    "href": "posts/My-new-post/index.html",
    "title": "Test post for 695N DACSS course - Spring 2024",
    "section": "",
    "text": "This is a post with executable code.\n\neasy.sum &lt;- 1 + 1\n\nprint(easy.sum)\n\n[1] 2\n\n\n\neasy.div &lt;- 2/6\n\nprint(easy.div)\n\n[1] 0.3333333"
  },
  {
    "objectID": "posts/Post 2 - Scrapping the data and Exploratory Analysis/index.html",
    "href": "posts/Post 2 - Scrapping the data and Exploratory Analysis/index.html",
    "title": "Post 2- Final Project FB - Scrapping Data and Exploratory Analysis - 695N Course",
    "section": "",
    "text": "I am interested in understanding how social media users influence each other and create communities around specific topics.\nSpecifically, I would like to explore this topic using Reddit to understand more in the context of domestic Politics.\n\n\n\nIn particular:\n\nHow are Reddit users connected/related in the “Politics” subreddit (r/politics), particularly when it comes to topics related to Biden and Trump?\nAre there different communities (networks) for Biden and Trump?\nIs there a relationship between “upvotes” for a post, number of comments and how it is related to the key users in the network?\n\n\nlibrary(devtools)\n\nLoading required package: usethis\n\n\nWarning: package 'usethis' was built under R version 4.3.2\n\nlibrary(tidytext)\n\nWarning: package 'tidytext' was built under R version 4.3.3\n\nlibrary(dplyr)\n\nWarning: package 'dplyr' was built under R version 4.3.2\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'tidyr' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.2\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'lubridate' was built under R version 4.3.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ ggplot2   3.5.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(quanteda)\n\nWarning: package 'quanteda' was built under R version 4.3.3\n\n\nPackage version: 4.0.1\nUnicode version: 15.1\nICU version: 74.1\nParallel computing: 8 of 8 threads used.\nSee https://quanteda.io for tutorials and examples.\n\nlibrary(quanteda.textplots)\n#library(RedditExtractoR)\nlibrary(RCurl)\n\nWarning: package 'RCurl' was built under R version 4.3.2\n\n\n\nAttaching package: 'RCurl'\n\nThe following object is masked from 'package:tidyr':\n\n    complete\n\n\n\n\n\n\nI scraped data from the Politics subreddit (r/politics) on April 2nd 2024 using R (RedditExtractoR package)\n\nThe code below is inactive because it can take a lot of time to run it. So I already scrapped the data and saved the files as csv.\n\n#politics_reddit &lt;- find_thread_urls(subreddit = \"politics\", sort_by=\"new\", period = \"day\")\n\n#politics_reddit_comments &lt;- get_thread_content(politics_reddit$url)\n\n#Separate the lists into different objects\n\n#politics_list1 &lt;- politics_reddit_comments[[1]] \n#politics_list2 &lt;- politics_reddit_comments[[2]]\n\n### Saving all the lists in csv to avoid the need to scrap the data several times\n\n#write.csv(politics_reddit, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments1.csv\")\n\n#write.csv(politics_list1, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments2.csv\")\n\n#write.csv(politics_list2, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments3.csv\")\n\n\nThis subreddit has 8.5 million users, so the data can be very extensive, however the package used here (RedditExtractoR) pulled the last 1000 post only.\n\n\ngetwd()\n\n[1] \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/695NBlog_Felix_Betancourt/posts/Post 2 - Scrapping the data and Exploratory Analysis\"\n\npolitik1 &lt;- read.csv(\"politics_comments1.csv\")\npolitik2 &lt;- read.csv(\"politics_comments2.csv\")\npolitik3 &lt;- read.csv(\"politics_comments3.csv\")\nhead(politik1)\n\n                                                                                                   X\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n    date_utc  timestamp\n1 2024-03-26 1711463500\n2 2024-03-26 1711463310\n3 2024-03-26 1711462666\n4 2024-03-26 1711462651\n5 2024-03-26 1711462570\n6 2024-03-26 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit comments\n1       politics       34\n2       politics       21\n3       politics      194\n4       politics       24\n5       politics       43\n6       politics       15\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n\ndim(politik1)\n\n[1] 983   8\n\nhead(politik2)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n             author      date  timestamp\n1  Cybertronian1512 3/26/2024 1711463500\n2           ban_hus 3/26/2024 1711463310\n3      coasterghost 3/26/2024 1711462666\n4           Quirkie 3/26/2024 1711462651\n5      texastribune 3/26/2024 1711462570\n6 thenationmagazine 3/26/2024 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit score upvotes downvotes up_ratio total_awards_received golds\n1       politics   304     304         0     0.95                     0     0\n2       politics   127     127         0     0.92                     0     0\n3       politics  1250    1250         0     0.95                     0     0\n4       politics   791     791         0     0.96                     0     0\n5       politics   421     421         0     0.91                     0     0\n6       politics   226     226         0     0.91                     0     0\n  cross_posts comments\n1           0       34\n2           0       21\n3           0      194\n4           0       24\n5           0       43\n6           0       15\n\ndim(politik2)\n\n[1] 983  16\n\nhead(politik3)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                          url\n1 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n3 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n4 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n5 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n6 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n         author      date  timestamp score upvotes downvotes golds\n1 AutoModerator 3/26/2024 1711463501     1       1         0     0\n2   EmmaLouLove 3/26/2024 1711465125    79      79         0     0\n3       ctguy54 3/26/2024 1711466287    41      41         0     0\n4   EmmaLouLove 3/26/2024 1711466455    13      13         0     0\n5        msfamf 3/26/2024 1711467091    19      19         0     0\n6   EmmaLouLove 3/26/2024 1711467635    13      13         0     0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        comment\n1 \\nAs a reminder, this subreddit [is for civil discussion.](/r/politics/wiki/index#wiki_be_civil)\\n\\nIn general, be courteous to others. Debate/discuss/argue the merits of ideas, don't attack people. Personal insults, shill or troll accusations, hate speech, any suggestion or support of harm, violence, or death, and other rule violations can result in a permanent ban. \\n\\nIf you see comments in violation of our rules, please report them.\\n\\n For those who have questions regarding any media outlets being posted on this subreddit, please click [here](https://www.reddit.com/r/politics/wiki/approveddomainslist) to review our details as to our approved domains list and outlet criteria.\\n \\n We are actively looking for new moderators.  If you have any interest in helping to make this subreddit a place for quality discussion, please fill out [this form](https://docs.google.com/forms/d/1y2swHD0KXFhStGFjW6k54r9iuMjzcFqDIVwuvdLBjSA).\\n \\n\\n***\\n\\n\\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/politics) if you have any questions or concerns.*\n2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                US Solicitor General Elizabeth Prelogar reminded the Supreme Court the courts have no business questioning the FDA\\031s expertise on whether a drug should be approved or not.\n3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        This will not stop the conservatives on the court from believing that they know best. \\n\\nNext the court will decide whether you can take aspirin, Tylenol, or Motrin.\n4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             I am guessing even this SCOTUS knows that inserting themselves into FDA decisions will cause the floodgates to open.  What would be the next drug that would be brought before them?  It could be any drug advertised with the multiple warnings of side effects including death.\n5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 &gt;What would be the next drug that would be brought before them? \\n\\nIf current trends and Republican talking points are any indication it's birth control.\n6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     True.  There is an ongoing attack by the conservative justices on Americans\\031 personal privacy rights.  \\n\\nClarence Thomas called for overturning the constitutional rights the court had affirmed for access to contraceptives and LGBTQ rights in his Roe opinion.  \\034In future cases, we should reconsider all of this Court\\031s substantive due process precedents, including Griswold, Lawrence, and Obergefell.\\035\\n\\nRepublicans seem hellbent on inserting themselves into anything they don\\031t agree with, whether it be food for needy children or a woman\\031s autonomy.  People should remember this when they vote.\n  comment_id\n1          1\n2          2\n3        2_1\n4      2_1_1\n5    2_1_1_1\n6  2_1_1_1_1\n\ndim(politik3)\n\n[1] 12414    11\n\n\nAs we can see the the information in object “politik1” is redundant with the information in “politik2” so I won’t use “politik1” at all. “Politik2” contain information about the title of the post, author, and some numeric information like up-down votes, number of replies to the post. “politik3” contain detailed comments on each post.\nI’ll use Text as Data methods to identify key words in the title of the posts (like Biden-Trump, or other topics of interest).\nLet’s do some data wrangling:\n\n# Cleaning and wrangling\n\npolitik_df &lt;- politik2 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df &lt;- as_tibble(politik_df)\npolitik_df$date &lt;- as.Date(politik_df$date, format = \"%m/%d/%Y\")\nhead(politik_df)\n\n# A tibble: 6 × 13\n  author       date       title text  subreddit score upvotes downvotes up_ratio\n  &lt;chr&gt;        &lt;date&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt;    &lt;dbl&gt;\n1 Cybertronia… 2024-03-26 \"Sup… \"\"    politics    304     304         0     0.95\n2 ban_hus      2024-03-26 \"Why… \"\"    politics    127     127         0     0.92\n3 coasterghost 2024-03-26 \"201… \"\"    politics   1250    1250         0     0.95\n4 Quirkie      2024-03-26 \"Bid… \"\"    politics    791     791         0     0.96\n5 texastribune 2024-03-26 \"Fel… \"\"    politics    421     421         0     0.91\n6 thenationma… 2024-03-26 \"Tru… \"\"    politics    226     226         0     0.91\n# ℹ 4 more variables: total_awards_received &lt;int&gt;, golds &lt;int&gt;,\n#   cross_posts &lt;int&gt;, comments &lt;int&gt;\n\npolitik_df2 &lt;- politik3 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df2 &lt;- as_tibble(politik_df2)\npolitik_df2$date &lt;- as.Date(politik_df2$date, format = \"%m/%d/%Y\")\nhead(politik_df2)\n\n# A tibble: 6 × 8\n  author        date       score upvotes downvotes golds comment      comment_id\n  &lt;chr&gt;         &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;     \n1 AutoModerator 2024-03-26     1       1         0     0 \"\\nAs a rem… 1         \n2 EmmaLouLove   2024-03-26    79      79         0     0 \"US Solicit… 2         \n3 ctguy54       2024-03-26    41      41         0     0 \"This will … 2_1       \n4 EmmaLouLove   2024-03-26    13      13         0     0 \"I am guess… 2_1_1     \n5 msfamf        2024-03-26    19      19         0     0 \"&gt;What w… 2_1_1_1   \n6 EmmaLouLove   2024-03-26    13      13         0     0 \"True.  The… 2_1_1_1_1 \n\n\nLooking at the comments from user “Automoderator”, it is like a Reddit moderator bot reminding rules of the forum, so I’ll delete the rows belonging to AutoModerator”. Also there are few commments “deleted”.\n\npolitik_df2 &lt;- politik_df2[-(which(politik_df2$author %in% \"AutoModerator\")),]\npolitik_df3 &lt;- politik_df2[-(which(politik_df2$author %in% \"[deleted]\")),]\n\nhead(politik_df3)\n\n# A tibble: 6 × 8\n  author      date       score upvotes downvotes golds comment        comment_id\n  &lt;chr&gt;       &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;     \n1 EmmaLouLove 2024-03-26    79      79         0     0 \"US Solicitor… 2         \n2 ctguy54     2024-03-26    41      41         0     0 \"This will no… 2_1       \n3 EmmaLouLove 2024-03-26    13      13         0     0 \"I am guessin… 2_1_1     \n4 msfamf      2024-03-26    19      19         0     0 \"&gt;What wou… 2_1_1_1   \n5 EmmaLouLove 2024-03-26    13      13         0     0 \"True.  There… 2_1_1_1_1 \n6 msfamf      2024-03-26     7       7         0     0 \"I was readin… 2_1_1_1_1…\n\ndim(politik_df3)\n\n[1] 12063     8\n\n\nLet’s explore a bit the text in the comments with a word cloud before continuing with the Network analysis.\n\n#preparing for text analysis\npolitik_vec &lt;- as.vector(politik3$comment)\npolitik_vec2 &lt;- unlist(politik_vec, use.names = FALSE)\n\npolitik_corpus &lt;- corpus(politik_vec2)\n\npolitik_corpus_summary &lt;- summary(politik_corpus)\npolitik_tokens &lt;- tokens(politik_corpus)\n\npolitik_tokens2 &lt;- tokens(politik_corpus, remove_punct=TRUE, remove_numbers = T) %&gt;%\n              tokens_select(pattern=c(stopwords(\"en\"), \"s\", \"just\", \"get\", \"can\", \"like\", \"people\"),\n                            selection=\"remove\") %&gt;%\n             dfm()\n\n#word cloud\ntextplot_wordcloud(politik_tokens2, max.words = 200)\n\nWarning: max.words is deprecated; use max_words instead\n\n\n\n\n\nIt does seem that Trump is dminting the conversations.\nLet’s explore a bit about the authors.\n\n#let's create some tables to see frequencies and totals\n\n#first I created a count column\npolitik_df3 &lt;- politik_df3 %&gt;% mutate(countid = \"1\")\npolitik_df3$countid &lt;- as.numeric(politik_df3$countid)\nhead(politik_df3)\n\n# A tibble: 6 × 9\n  author     date       score upvotes downvotes golds comment comment_id countid\n  &lt;chr&gt;      &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;\n1 EmmaLouLo… 2024-03-26    79      79         0     0 \"US So… 2                1\n2 ctguy54    2024-03-26    41      41         0     0 \"This … 2_1              1\n3 EmmaLouLo… 2024-03-26    13      13         0     0 \"I am … 2_1_1            1\n4 msfamf     2024-03-26    19      19         0     0 \"&gt;W… 2_1_1_1          1\n5 EmmaLouLo… 2024-03-26    13      13         0     0 \"True.… 2_1_1_1_1        1\n6 msfamf     2024-03-26     7       7         0     0 \"I was… 2_1_1_1_1…       1\n\n#preparing tables\nlibrary(data.table)\n\nWarning: package 'data.table' was built under R version 4.3.3\n\n\n\nAttaching package: 'data.table'\n\n\nThe following objects are masked from 'package:lubridate':\n\n    hour, isoweek, mday, minute, month, quarter, second, wday, week,\n    yday, year\n\n\nThe following object is masked from 'package:purrr':\n\n    transpose\n\n\nThe following objects are masked from 'package:dplyr':\n\n    between, first, last\n\npolitik_table2 &lt;- data.table(politik_df3)\n\n#total posts grouped by author\ncount_table2 &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarise(Total_posts = sum(countid))\ncount_table2 &lt;- count_table2 %&gt;% arrange(desc(Total_posts))\nprint(count_table2)\n\n# A tibble: 6,520 × 2\n   author               Total_posts\n   &lt;chr&gt;                      &lt;dbl&gt;\n 1 Numerous_Photograph9          84\n 2 bignanoman                    40\n 3 Class_of_22                   34\n 4 Ferelwing                     33\n 5 LivingEnd44                   32\n 6 jimmydublets                  30\n 7 mymomknowsyourmom             25\n 8 grixorbatz                    23\n 9 sndcstle                      23\n10 Logical_Parameters            22\n# ℹ 6,510 more rows\n\nsummary_votes &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Total_Score = sum(score))\nsummary_votes &lt;- summary_votes %&gt;% arrange(desc(Total_Score))\nprint(summary_votes)\n\n# A tibble: 6,520 × 2\n   author          Total_Score\n   &lt;chr&gt;                 &lt;int&gt;\n 1 BukkitCrab             8414\n 2 PalmettoAndMoon        6095\n 3 OokLeeNooma            5480\n 4 Poppa_Mo               4481\n 5 TheDudeBeto            3892\n 6 TintedApostle          3661\n 7 ImmoKnight             3343\n 8 Crazy-Nights           3032\n 9 HotPhilly              2809\n10 Jackinapox             2625\n# ℹ 6,510 more rows\n\n#Upvotes as a proportion of comments\nsummary_votes_ratio &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Ratio_upvotes_per_comment = sum(upvotes)/sum(countid))\nsummary_votes_ratio &lt;- summary_votes_ratio %&gt;% arrange(desc(Ratio_upvotes_per_comment))\nprint(summary_votes_ratio)\n\n# A tibble: 6,520 × 2\n   author             Ratio_upvotes_per_comment\n   &lt;chr&gt;                                  &lt;dbl&gt;\n 1 OokLeeNooma                            5480 \n 2 TheDudeBeto                            3892 \n 3 Poppa_Mo                               2240.\n 4 ScotTheDuck                            2160 \n 5 AbandonedWaterPark                     2118 \n 6 rollingstone                           2096 \n 7 bocaciega                              1876 \n 8 jono9898                               1717 \n 9 PurpleCitron8                          1604 \n10 Jackinapox                             1312.\n# ℹ 6,510 more rows\n\n#Let's see how is the distribution of upvotes per comment\n#I may need to decide to analyze certain number of users only and the \n#level of interaction for those users could be a criteria de decide this\npercentiles &lt;- quantile(summary_votes_ratio$Ratio_upvotes_per_comment, probs = c(0.25, 0.50, 0.75, 0.90))\n\nprint(percentiles)\n\n      25%       50%       75%       90% \n 1.666667  3.666667 11.000000 31.161905 \n\n\nNow I am working on setting the data base for network analysis."
  },
  {
    "objectID": "posts/Post 2 - Scrapping the data and Exploratory Analysis/index.html#final-project---post-2---scrapping-and-exploring-the-data.",
    "href": "posts/Post 2 - Scrapping the data and Exploratory Analysis/index.html#final-project---post-2---scrapping-and-exploring-the-data.",
    "title": "Post 2- Final Project FB - Scrapping Data and Exploratory Analysis - 695N Course",
    "section": "",
    "text": "I am interested in understanding how social media users influence each other and create communities around specific topics.\nSpecifically, I would like to explore this topic using Reddit to understand more in the context of domestic Politics.\n\n\n\nIn particular:\n\nHow are Reddit users connected/related in the “Politics” subreddit (r/politics), particularly when it comes to topics related to Biden and Trump?\nAre there different communities (networks) for Biden and Trump?\nIs there a relationship between “upvotes” for a post, number of comments and how it is related to the key users in the network?\n\n\nlibrary(devtools)\n\nLoading required package: usethis\n\n\nWarning: package 'usethis' was built under R version 4.3.2\n\nlibrary(tidytext)\n\nWarning: package 'tidytext' was built under R version 4.3.3\n\nlibrary(dplyr)\n\nWarning: package 'dplyr' was built under R version 4.3.2\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'tidyr' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.2\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'lubridate' was built under R version 4.3.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ ggplot2   3.5.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(quanteda)\n\nWarning: package 'quanteda' was built under R version 4.3.3\n\n\nPackage version: 4.0.1\nUnicode version: 15.1\nICU version: 74.1\nParallel computing: 8 of 8 threads used.\nSee https://quanteda.io for tutorials and examples.\n\nlibrary(quanteda.textplots)\n#library(RedditExtractoR)\nlibrary(RCurl)\n\nWarning: package 'RCurl' was built under R version 4.3.2\n\n\n\nAttaching package: 'RCurl'\n\nThe following object is masked from 'package:tidyr':\n\n    complete\n\n\n\n\n\n\nI scraped data from the Politics subreddit (r/politics) on April 2nd 2024 using R (RedditExtractoR package)\n\nThe code below is inactive because it can take a lot of time to run it. So I already scrapped the data and saved the files as csv.\n\n#politics_reddit &lt;- find_thread_urls(subreddit = \"politics\", sort_by=\"new\", period = \"day\")\n\n#politics_reddit_comments &lt;- get_thread_content(politics_reddit$url)\n\n#Separate the lists into different objects\n\n#politics_list1 &lt;- politics_reddit_comments[[1]] \n#politics_list2 &lt;- politics_reddit_comments[[2]]\n\n### Saving all the lists in csv to avoid the need to scrap the data several times\n\n#write.csv(politics_reddit, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments1.csv\")\n\n#write.csv(politics_list1, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments2.csv\")\n\n#write.csv(politics_list2, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments3.csv\")\n\n\nThis subreddit has 8.5 million users, so the data can be very extensive, however the package used here (RedditExtractoR) pulled the last 1000 post only.\n\n\ngetwd()\n\n[1] \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/695NBlog_Felix_Betancourt/posts/Post 2 - Scrapping the data and Exploratory Analysis\"\n\npolitik1 &lt;- read.csv(\"politics_comments1.csv\")\npolitik2 &lt;- read.csv(\"politics_comments2.csv\")\npolitik3 &lt;- read.csv(\"politics_comments3.csv\")\nhead(politik1)\n\n                                                                                                   X\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n    date_utc  timestamp\n1 2024-03-26 1711463500\n2 2024-03-26 1711463310\n3 2024-03-26 1711462666\n4 2024-03-26 1711462651\n5 2024-03-26 1711462570\n6 2024-03-26 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit comments\n1       politics       34\n2       politics       21\n3       politics      194\n4       politics       24\n5       politics       43\n6       politics       15\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n\ndim(politik1)\n\n[1] 983   8\n\nhead(politik2)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n             author      date  timestamp\n1  Cybertronian1512 3/26/2024 1711463500\n2           ban_hus 3/26/2024 1711463310\n3      coasterghost 3/26/2024 1711462666\n4           Quirkie 3/26/2024 1711462651\n5      texastribune 3/26/2024 1711462570\n6 thenationmagazine 3/26/2024 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit score upvotes downvotes up_ratio total_awards_received golds\n1       politics   304     304         0     0.95                     0     0\n2       politics   127     127         0     0.92                     0     0\n3       politics  1250    1250         0     0.95                     0     0\n4       politics   791     791         0     0.96                     0     0\n5       politics   421     421         0     0.91                     0     0\n6       politics   226     226         0     0.91                     0     0\n  cross_posts comments\n1           0       34\n2           0       21\n3           0      194\n4           0       24\n5           0       43\n6           0       15\n\ndim(politik2)\n\n[1] 983  16\n\nhead(politik3)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                          url\n1 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n3 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n4 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n5 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n6 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n         author      date  timestamp score upvotes downvotes golds\n1 AutoModerator 3/26/2024 1711463501     1       1         0     0\n2   EmmaLouLove 3/26/2024 1711465125    79      79         0     0\n3       ctguy54 3/26/2024 1711466287    41      41         0     0\n4   EmmaLouLove 3/26/2024 1711466455    13      13         0     0\n5        msfamf 3/26/2024 1711467091    19      19         0     0\n6   EmmaLouLove 3/26/2024 1711467635    13      13         0     0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        comment\n1 \\nAs a reminder, this subreddit [is for civil discussion.](/r/politics/wiki/index#wiki_be_civil)\\n\\nIn general, be courteous to others. Debate/discuss/argue the merits of ideas, don't attack people. Personal insults, shill or troll accusations, hate speech, any suggestion or support of harm, violence, or death, and other rule violations can result in a permanent ban. \\n\\nIf you see comments in violation of our rules, please report them.\\n\\n For those who have questions regarding any media outlets being posted on this subreddit, please click [here](https://www.reddit.com/r/politics/wiki/approveddomainslist) to review our details as to our approved domains list and outlet criteria.\\n \\n We are actively looking for new moderators.  If you have any interest in helping to make this subreddit a place for quality discussion, please fill out [this form](https://docs.google.com/forms/d/1y2swHD0KXFhStGFjW6k54r9iuMjzcFqDIVwuvdLBjSA).\\n \\n\\n***\\n\\n\\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/politics) if you have any questions or concerns.*\n2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                US Solicitor General Elizabeth Prelogar reminded the Supreme Court the courts have no business questioning the FDA\\031s expertise on whether a drug should be approved or not.\n3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        This will not stop the conservatives on the court from believing that they know best. \\n\\nNext the court will decide whether you can take aspirin, Tylenol, or Motrin.\n4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             I am guessing even this SCOTUS knows that inserting themselves into FDA decisions will cause the floodgates to open.  What would be the next drug that would be brought before them?  It could be any drug advertised with the multiple warnings of side effects including death.\n5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 &gt;What would be the next drug that would be brought before them? \\n\\nIf current trends and Republican talking points are any indication it's birth control.\n6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     True.  There is an ongoing attack by the conservative justices on Americans\\031 personal privacy rights.  \\n\\nClarence Thomas called for overturning the constitutional rights the court had affirmed for access to contraceptives and LGBTQ rights in his Roe opinion.  \\034In future cases, we should reconsider all of this Court\\031s substantive due process precedents, including Griswold, Lawrence, and Obergefell.\\035\\n\\nRepublicans seem hellbent on inserting themselves into anything they don\\031t agree with, whether it be food for needy children or a woman\\031s autonomy.  People should remember this when they vote.\n  comment_id\n1          1\n2          2\n3        2_1\n4      2_1_1\n5    2_1_1_1\n6  2_1_1_1_1\n\ndim(politik3)\n\n[1] 12414    11\n\n\nAs we can see the the information in object “politik1” is redundant with the information in “politik2” so I won’t use “politik1” at all. “Politik2” contain information about the title of the post, author, and some numeric information like up-down votes, number of replies to the post. “politik3” contain detailed comments on each post.\nI’ll use Text as Data methods to identify key words in the title of the posts (like Biden-Trump, or other topics of interest).\nLet’s do some data wrangling:\n\n# Cleaning and wrangling\n\npolitik_df &lt;- politik2 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df &lt;- as_tibble(politik_df)\npolitik_df$date &lt;- as.Date(politik_df$date, format = \"%m/%d/%Y\")\nhead(politik_df)\n\n# A tibble: 6 × 13\n  author       date       title text  subreddit score upvotes downvotes up_ratio\n  &lt;chr&gt;        &lt;date&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt;    &lt;dbl&gt;\n1 Cybertronia… 2024-03-26 \"Sup… \"\"    politics    304     304         0     0.95\n2 ban_hus      2024-03-26 \"Why… \"\"    politics    127     127         0     0.92\n3 coasterghost 2024-03-26 \"201… \"\"    politics   1250    1250         0     0.95\n4 Quirkie      2024-03-26 \"Bid… \"\"    politics    791     791         0     0.96\n5 texastribune 2024-03-26 \"Fel… \"\"    politics    421     421         0     0.91\n6 thenationma… 2024-03-26 \"Tru… \"\"    politics    226     226         0     0.91\n# ℹ 4 more variables: total_awards_received &lt;int&gt;, golds &lt;int&gt;,\n#   cross_posts &lt;int&gt;, comments &lt;int&gt;\n\npolitik_df2 &lt;- politik3 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df2 &lt;- as_tibble(politik_df2)\npolitik_df2$date &lt;- as.Date(politik_df2$date, format = \"%m/%d/%Y\")\nhead(politik_df2)\n\n# A tibble: 6 × 8\n  author        date       score upvotes downvotes golds comment      comment_id\n  &lt;chr&gt;         &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;     \n1 AutoModerator 2024-03-26     1       1         0     0 \"\\nAs a rem… 1         \n2 EmmaLouLove   2024-03-26    79      79         0     0 \"US Solicit… 2         \n3 ctguy54       2024-03-26    41      41         0     0 \"This will … 2_1       \n4 EmmaLouLove   2024-03-26    13      13         0     0 \"I am guess… 2_1_1     \n5 msfamf        2024-03-26    19      19         0     0 \"&gt;What w… 2_1_1_1   \n6 EmmaLouLove   2024-03-26    13      13         0     0 \"True.  The… 2_1_1_1_1 \n\n\nLooking at the comments from user “Automoderator”, it is like a Reddit moderator bot reminding rules of the forum, so I’ll delete the rows belonging to AutoModerator”. Also there are few commments “deleted”.\n\npolitik_df2 &lt;- politik_df2[-(which(politik_df2$author %in% \"AutoModerator\")),]\npolitik_df3 &lt;- politik_df2[-(which(politik_df2$author %in% \"[deleted]\")),]\n\nhead(politik_df3)\n\n# A tibble: 6 × 8\n  author      date       score upvotes downvotes golds comment        comment_id\n  &lt;chr&gt;       &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;     \n1 EmmaLouLove 2024-03-26    79      79         0     0 \"US Solicitor… 2         \n2 ctguy54     2024-03-26    41      41         0     0 \"This will no… 2_1       \n3 EmmaLouLove 2024-03-26    13      13         0     0 \"I am guessin… 2_1_1     \n4 msfamf      2024-03-26    19      19         0     0 \"&gt;What wou… 2_1_1_1   \n5 EmmaLouLove 2024-03-26    13      13         0     0 \"True.  There… 2_1_1_1_1 \n6 msfamf      2024-03-26     7       7         0     0 \"I was readin… 2_1_1_1_1…\n\ndim(politik_df3)\n\n[1] 12063     8\n\n\nLet’s explore a bit the text in the comments with a word cloud before continuing with the Network analysis.\n\n#preparing for text analysis\npolitik_vec &lt;- as.vector(politik3$comment)\npolitik_vec2 &lt;- unlist(politik_vec, use.names = FALSE)\n\npolitik_corpus &lt;- corpus(politik_vec2)\n\npolitik_corpus_summary &lt;- summary(politik_corpus)\npolitik_tokens &lt;- tokens(politik_corpus)\n\npolitik_tokens2 &lt;- tokens(politik_corpus, remove_punct=TRUE, remove_numbers = T) %&gt;%\n              tokens_select(pattern=c(stopwords(\"en\"), \"s\", \"just\", \"get\", \"can\", \"like\", \"people\"),\n                            selection=\"remove\") %&gt;%\n             dfm()\n\n#word cloud\ntextplot_wordcloud(politik_tokens2, max.words = 200)\n\nWarning: max.words is deprecated; use max_words instead\n\n\n\n\n\nIt does seem that Trump is dminting the conversations.\nLet’s explore a bit about the authors.\n\n#let's create some tables to see frequencies and totals\n\n#first I created a count column\npolitik_df3 &lt;- politik_df3 %&gt;% mutate(countid = \"1\")\npolitik_df3$countid &lt;- as.numeric(politik_df3$countid)\nhead(politik_df3)\n\n# A tibble: 6 × 9\n  author     date       score upvotes downvotes golds comment comment_id countid\n  &lt;chr&gt;      &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;\n1 EmmaLouLo… 2024-03-26    79      79         0     0 \"US So… 2                1\n2 ctguy54    2024-03-26    41      41         0     0 \"This … 2_1              1\n3 EmmaLouLo… 2024-03-26    13      13         0     0 \"I am … 2_1_1            1\n4 msfamf     2024-03-26    19      19         0     0 \"&gt;W… 2_1_1_1          1\n5 EmmaLouLo… 2024-03-26    13      13         0     0 \"True.… 2_1_1_1_1        1\n6 msfamf     2024-03-26     7       7         0     0 \"I was… 2_1_1_1_1…       1\n\n#preparing tables\nlibrary(data.table)\n\nWarning: package 'data.table' was built under R version 4.3.3\n\n\n\nAttaching package: 'data.table'\n\n\nThe following objects are masked from 'package:lubridate':\n\n    hour, isoweek, mday, minute, month, quarter, second, wday, week,\n    yday, year\n\n\nThe following object is masked from 'package:purrr':\n\n    transpose\n\n\nThe following objects are masked from 'package:dplyr':\n\n    between, first, last\n\npolitik_table2 &lt;- data.table(politik_df3)\n\n#total posts grouped by author\ncount_table2 &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarise(Total_posts = sum(countid))\ncount_table2 &lt;- count_table2 %&gt;% arrange(desc(Total_posts))\nprint(count_table2)\n\n# A tibble: 6,520 × 2\n   author               Total_posts\n   &lt;chr&gt;                      &lt;dbl&gt;\n 1 Numerous_Photograph9          84\n 2 bignanoman                    40\n 3 Class_of_22                   34\n 4 Ferelwing                     33\n 5 LivingEnd44                   32\n 6 jimmydublets                  30\n 7 mymomknowsyourmom             25\n 8 grixorbatz                    23\n 9 sndcstle                      23\n10 Logical_Parameters            22\n# ℹ 6,510 more rows\n\nsummary_votes &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Total_Score = sum(score))\nsummary_votes &lt;- summary_votes %&gt;% arrange(desc(Total_Score))\nprint(summary_votes)\n\n# A tibble: 6,520 × 2\n   author          Total_Score\n   &lt;chr&gt;                 &lt;int&gt;\n 1 BukkitCrab             8414\n 2 PalmettoAndMoon        6095\n 3 OokLeeNooma            5480\n 4 Poppa_Mo               4481\n 5 TheDudeBeto            3892\n 6 TintedApostle          3661\n 7 ImmoKnight             3343\n 8 Crazy-Nights           3032\n 9 HotPhilly              2809\n10 Jackinapox             2625\n# ℹ 6,510 more rows\n\n#Upvotes as a proportion of comments\nsummary_votes_ratio &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Ratio_upvotes_per_comment = sum(upvotes)/sum(countid))\nsummary_votes_ratio &lt;- summary_votes_ratio %&gt;% arrange(desc(Ratio_upvotes_per_comment))\nprint(summary_votes_ratio)\n\n# A tibble: 6,520 × 2\n   author             Ratio_upvotes_per_comment\n   &lt;chr&gt;                                  &lt;dbl&gt;\n 1 OokLeeNooma                            5480 \n 2 TheDudeBeto                            3892 \n 3 Poppa_Mo                               2240.\n 4 ScotTheDuck                            2160 \n 5 AbandonedWaterPark                     2118 \n 6 rollingstone                           2096 \n 7 bocaciega                              1876 \n 8 jono9898                               1717 \n 9 PurpleCitron8                          1604 \n10 Jackinapox                             1312.\n# ℹ 6,510 more rows\n\n#Let's see how is the distribution of upvotes per comment\n#I may need to decide to analyze certain number of users only and the \n#level of interaction for those users could be a criteria de decide this\npercentiles &lt;- quantile(summary_votes_ratio$Ratio_upvotes_per_comment, probs = c(0.25, 0.50, 0.75, 0.90))\n\nprint(percentiles)\n\n      25%       50%       75%       90% \n 1.666667  3.666667 11.000000 31.161905 \n\n\nNow I am working on setting the data base for network analysis."
  },
  {
    "objectID": "posts/Post 2 - Scrapping the data and Exploratory Analysis/Final Project Post 2.html",
    "href": "posts/Post 2 - Scrapping the data and Exploratory Analysis/Final Project Post 2.html",
    "title": "Final Project FB - Scrapping Data and Exploratory Analysis",
    "section": "",
    "text": "I am interested in understanding how social media users influence each other and create communities around specific topics.\nSpecifically, I would like to explore this topic using Reddit to understand more in the context of domestic Politics.\n\n\n\nIn particular:\n\nHow are Reddit users connected/related in the “Politics” subreddit (r/politics), particularly when it comes to topics related to Biden and Trump?\nAre there different communities (networks) for Biden and Trump?\nIs there a relationship between “upvotes” for a post, number of comments and how it is related to the key users in the network?\n\n\nlibrary(devtools)\n\nLoading required package: usethis\n\n\nWarning: package 'usethis' was built under R version 4.3.2\n\nlibrary(tidytext)\n\nWarning: package 'tidytext' was built under R version 4.3.3\n\nlibrary(dplyr)\n\nWarning: package 'dplyr' was built under R version 4.3.2\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'tidyr' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.2\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'lubridate' was built under R version 4.3.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ ggplot2   3.5.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(quanteda)\n\nWarning: package 'quanteda' was built under R version 4.3.3\n\n\nPackage version: 4.0.1\nUnicode version: 15.1\nICU version: 74.1\nParallel computing: 8 of 8 threads used.\nSee https://quanteda.io for tutorials and examples.\n\nlibrary(quanteda.textplots)\n#library(RedditExtractoR)\nlibrary(RCurl)\n\nWarning: package 'RCurl' was built under R version 4.3.2\n\n\n\nAttaching package: 'RCurl'\n\nThe following object is masked from 'package:tidyr':\n\n    complete\n\n\n\n\n\n\nI scraped data from the Politics subreddit (r/politics) on April 2nd 2024 using R (RedditExtractoR package)\n\nThe code below is inactive because it can take a lot of time to run it. So I already scrapped the data and saved the files as csv.\n\n#politics_reddit &lt;- find_thread_urls(subreddit = \"politics\", sort_by=\"new\", period = \"day\")\n\n#politics_reddit_comments &lt;- get_thread_content(politics_reddit$url)\n\n#Separate the lists into different objects\n\n#politics_list1 &lt;- politics_reddit_comments[[1]] \n#politics_list2 &lt;- politics_reddit_comments[[2]]\n\n### Saving all the lists in csv to avoid the need to scrap the data several times\n\n#write.csv(politics_reddit, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments1.csv\")\n\n#write.csv(politics_list1, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments2.csv\")\n\n#write.csv(politics_list2, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments3.csv\")\n\n\nThis subreddit has 8.5 million users, so the data can be very extensive, however the package used here (RedditExtractoR) pulled the last 1000 post only.\n\n\ngetwd()\n\n[1] \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/695NBlog_Felix_Betancourt/posts/Post 2 - Scrapping the data and Exploratory Analysis\"\n\npolitik1 &lt;- read.csv(\"politics_comments1.csv\")\npolitik2 &lt;- read.csv(\"politics_comments2.csv\")\npolitik3 &lt;- read.csv(\"politics_comments3.csv\")\nhead(politik1)\n\n                                                                                                   X\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n    date_utc  timestamp\n1 2024-03-26 1711463500\n2 2024-03-26 1711463310\n3 2024-03-26 1711462666\n4 2024-03-26 1711462651\n5 2024-03-26 1711462570\n6 2024-03-26 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit comments\n1       politics       34\n2       politics       21\n3       politics      194\n4       politics       24\n5       politics       43\n6       politics       15\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n\ndim(politik1)\n\n[1] 983   8\n\nhead(politik2)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n             author      date  timestamp\n1  Cybertronian1512 3/26/2024 1711463500\n2           ban_hus 3/26/2024 1711463310\n3      coasterghost 3/26/2024 1711462666\n4           Quirkie 3/26/2024 1711462651\n5      texastribune 3/26/2024 1711462570\n6 thenationmagazine 3/26/2024 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit score upvotes downvotes up_ratio total_awards_received golds\n1       politics   304     304         0     0.95                     0     0\n2       politics   127     127         0     0.92                     0     0\n3       politics  1250    1250         0     0.95                     0     0\n4       politics   791     791         0     0.96                     0     0\n5       politics   421     421         0     0.91                     0     0\n6       politics   226     226         0     0.91                     0     0\n  cross_posts comments\n1           0       34\n2           0       21\n3           0      194\n4           0       24\n5           0       43\n6           0       15\n\ndim(politik2)\n\n[1] 983  16\n\nhead(politik3)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                          url\n1 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n3 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n4 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n5 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n6 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n         author      date  timestamp score upvotes downvotes golds\n1 AutoModerator 3/26/2024 1711463501     1       1         0     0\n2   EmmaLouLove 3/26/2024 1711465125    79      79         0     0\n3       ctguy54 3/26/2024 1711466287    41      41         0     0\n4   EmmaLouLove 3/26/2024 1711466455    13      13         0     0\n5        msfamf 3/26/2024 1711467091    19      19         0     0\n6   EmmaLouLove 3/26/2024 1711467635    13      13         0     0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        comment\n1 \\nAs a reminder, this subreddit [is for civil discussion.](/r/politics/wiki/index#wiki_be_civil)\\n\\nIn general, be courteous to others. Debate/discuss/argue the merits of ideas, don't attack people. Personal insults, shill or troll accusations, hate speech, any suggestion or support of harm, violence, or death, and other rule violations can result in a permanent ban. \\n\\nIf you see comments in violation of our rules, please report them.\\n\\n For those who have questions regarding any media outlets being posted on this subreddit, please click [here](https://www.reddit.com/r/politics/wiki/approveddomainslist) to review our details as to our approved domains list and outlet criteria.\\n \\n We are actively looking for new moderators.  If you have any interest in helping to make this subreddit a place for quality discussion, please fill out [this form](https://docs.google.com/forms/d/1y2swHD0KXFhStGFjW6k54r9iuMjzcFqDIVwuvdLBjSA).\\n \\n\\n***\\n\\n\\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/politics) if you have any questions or concerns.*\n2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                US Solicitor General Elizabeth Prelogar reminded the Supreme Court the courts have no business questioning the FDA\\031s expertise on whether a drug should be approved or not.\n3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        This will not stop the conservatives on the court from believing that they know best. \\n\\nNext the court will decide whether you can take aspirin, Tylenol, or Motrin.\n4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             I am guessing even this SCOTUS knows that inserting themselves into FDA decisions will cause the floodgates to open.  What would be the next drug that would be brought before them?  It could be any drug advertised with the multiple warnings of side effects including death.\n5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 &gt;What would be the next drug that would be brought before them? \\n\\nIf current trends and Republican talking points are any indication it's birth control.\n6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     True.  There is an ongoing attack by the conservative justices on Americans\\031 personal privacy rights.  \\n\\nClarence Thomas called for overturning the constitutional rights the court had affirmed for access to contraceptives and LGBTQ rights in his Roe opinion.  \\034In future cases, we should reconsider all of this Court\\031s substantive due process precedents, including Griswold, Lawrence, and Obergefell.\\035\\n\\nRepublicans seem hellbent on inserting themselves into anything they don\\031t agree with, whether it be food for needy children or a woman\\031s autonomy.  People should remember this when they vote.\n  comment_id\n1          1\n2          2\n3        2_1\n4      2_1_1\n5    2_1_1_1\n6  2_1_1_1_1\n\ndim(politik3)\n\n[1] 12414    11\n\n\nAs we can see the the information in object “politik1” is redundant with the information in “politik2” so I won’t use “politik1” at all. “Politik2” contain information about the title of the post, author, and some numeric information like up-down votes, number of replies to the post. “politik3” contain detailed comments on each post.\nI’ll use Text as Data methods to identify key words in the title of the posts (like Biden-Trump, or other topics of interest).\nLet’s do some data wrangling:\n\n# Cleaning and wrangling\n\npolitik_df &lt;- politik2 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df &lt;- as_tibble(politik_df)\npolitik_df$date &lt;- as.Date(politik_df$date, format = \"%m/%d/%Y\")\nhead(politik_df)\n\n# A tibble: 6 × 13\n  author       date       title text  subreddit score upvotes downvotes up_ratio\n  &lt;chr&gt;        &lt;date&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt;    &lt;dbl&gt;\n1 Cybertronia… 2024-03-26 \"Sup… \"\"    politics    304     304         0     0.95\n2 ban_hus      2024-03-26 \"Why… \"\"    politics    127     127         0     0.92\n3 coasterghost 2024-03-26 \"201… \"\"    politics   1250    1250         0     0.95\n4 Quirkie      2024-03-26 \"Bid… \"\"    politics    791     791         0     0.96\n5 texastribune 2024-03-26 \"Fel… \"\"    politics    421     421         0     0.91\n6 thenationma… 2024-03-26 \"Tru… \"\"    politics    226     226         0     0.91\n# ℹ 4 more variables: total_awards_received &lt;int&gt;, golds &lt;int&gt;,\n#   cross_posts &lt;int&gt;, comments &lt;int&gt;\n\npolitik_df2 &lt;- politik3 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df2 &lt;- as_tibble(politik_df2)\npolitik_df2$date &lt;- as.Date(politik_df2$date, format = \"%m/%d/%Y\")\nhead(politik_df2)\n\n# A tibble: 6 × 8\n  author        date       score upvotes downvotes golds comment      comment_id\n  &lt;chr&gt;         &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;     \n1 AutoModerator 2024-03-26     1       1         0     0 \"\\nAs a rem… 1         \n2 EmmaLouLove   2024-03-26    79      79         0     0 \"US Solicit… 2         \n3 ctguy54       2024-03-26    41      41         0     0 \"This will … 2_1       \n4 EmmaLouLove   2024-03-26    13      13         0     0 \"I am guess… 2_1_1     \n5 msfamf        2024-03-26    19      19         0     0 \"&gt;What w… 2_1_1_1   \n6 EmmaLouLove   2024-03-26    13      13         0     0 \"True.  The… 2_1_1_1_1 \n\n\nLooking at the comments from user “Automoderator”, it is like a Reddit moderator bot reminding rules of the forum, so I’ll delete the rows belonging to AutoModerator”. Also there are few commments “deleted”.\n\npolitik_df2 &lt;- politik_df2[-(which(politik_df2$author %in% \"AutoModerator\")),]\npolitik_df3 &lt;- politik_df2[-(which(politik_df2$author %in% \"[deleted]\")),]\n\nhead(politik_df3)\n\n# A tibble: 6 × 8\n  author      date       score upvotes downvotes golds comment        comment_id\n  &lt;chr&gt;       &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;     \n1 EmmaLouLove 2024-03-26    79      79         0     0 \"US Solicitor… 2         \n2 ctguy54     2024-03-26    41      41         0     0 \"This will no… 2_1       \n3 EmmaLouLove 2024-03-26    13      13         0     0 \"I am guessin… 2_1_1     \n4 msfamf      2024-03-26    19      19         0     0 \"&gt;What wou… 2_1_1_1   \n5 EmmaLouLove 2024-03-26    13      13         0     0 \"True.  There… 2_1_1_1_1 \n6 msfamf      2024-03-26     7       7         0     0 \"I was readin… 2_1_1_1_1…\n\ndim(politik_df3)\n\n[1] 12063     8\n\n\nLet’s explore a bit the text in the comments with a word cloud before continuing with the Network analysis.\n\n#preparing for text analysis\npolitik_vec &lt;- as.vector(politik3$comment)\npolitik_vec2 &lt;- unlist(politik_vec, use.names = FALSE)\n\npolitik_corpus &lt;- corpus(politik_vec2)\n\npolitik_corpus_summary &lt;- summary(politik_corpus)\npolitik_tokens &lt;- tokens(politik_corpus)\n\npolitik_tokens2 &lt;- tokens(politik_corpus, remove_punct=TRUE, remove_numbers = T) %&gt;%\n              tokens_select(pattern=c(stopwords(\"en\"), \"s\", \"just\", \"get\", \"can\", \"like\", \"people\"),\n                            selection=\"remove\") %&gt;%\n             dfm()\n\n#word cloud\ntextplot_wordcloud(politik_tokens2, max.words = 200)\n\nWarning: max.words is deprecated; use max_words instead\n\n\n\n\n\nIt does seem that Trump is dminting the conversations.\nLet’s explore a bit about the authors.\n\n#let's create some tables to see frequencies and totals\n\n#first I created a count column\npolitik_df3 &lt;- politik_df3 %&gt;% mutate(countid = \"1\")\npolitik_df3$countid &lt;- as.numeric(politik_df3$countid)\nhead(politik_df3)\n\n# A tibble: 6 × 9\n  author     date       score upvotes downvotes golds comment comment_id countid\n  &lt;chr&gt;      &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;\n1 EmmaLouLo… 2024-03-26    79      79         0     0 \"US So… 2                1\n2 ctguy54    2024-03-26    41      41         0     0 \"This … 2_1              1\n3 EmmaLouLo… 2024-03-26    13      13         0     0 \"I am … 2_1_1            1\n4 msfamf     2024-03-26    19      19         0     0 \"&gt;W… 2_1_1_1          1\n5 EmmaLouLo… 2024-03-26    13      13         0     0 \"True.… 2_1_1_1_1        1\n6 msfamf     2024-03-26     7       7         0     0 \"I was… 2_1_1_1_1…       1\n\n#preparing tables\nlibrary(data.table)\n\nWarning: package 'data.table' was built under R version 4.3.3\n\n\n\nAttaching package: 'data.table'\n\n\nThe following objects are masked from 'package:lubridate':\n\n    hour, isoweek, mday, minute, month, quarter, second, wday, week,\n    yday, year\n\n\nThe following object is masked from 'package:purrr':\n\n    transpose\n\n\nThe following objects are masked from 'package:dplyr':\n\n    between, first, last\n\npolitik_table2 &lt;- data.table(politik_df3)\n\n#total posts grouped by author\ncount_table2 &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarise(Total_posts = sum(countid))\ncount_table2 &lt;- count_table2 %&gt;% arrange(desc(Total_posts))\nprint(count_table2)\n\n# A tibble: 6,520 × 2\n   author               Total_posts\n   &lt;chr&gt;                      &lt;dbl&gt;\n 1 Numerous_Photograph9          84\n 2 bignanoman                    40\n 3 Class_of_22                   34\n 4 Ferelwing                     33\n 5 LivingEnd44                   32\n 6 jimmydublets                  30\n 7 mymomknowsyourmom             25\n 8 grixorbatz                    23\n 9 sndcstle                      23\n10 Logical_Parameters            22\n# ℹ 6,510 more rows\n\nsummary_votes &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Total_Score = sum(score))\nsummary_votes &lt;- summary_votes %&gt;% arrange(desc(Total_Score))\nprint(summary_votes)\n\n# A tibble: 6,520 × 2\n   author          Total_Score\n   &lt;chr&gt;                 &lt;int&gt;\n 1 BukkitCrab             8414\n 2 PalmettoAndMoon        6095\n 3 OokLeeNooma            5480\n 4 Poppa_Mo               4481\n 5 TheDudeBeto            3892\n 6 TintedApostle          3661\n 7 ImmoKnight             3343\n 8 Crazy-Nights           3032\n 9 HotPhilly              2809\n10 Jackinapox             2625\n# ℹ 6,510 more rows\n\n#Upvotes as a proportion of comments\nsummary_votes_ratio &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Ratio_upvotes_per_comment = sum(upvotes)/sum(countid))\nsummary_votes_ratio &lt;- summary_votes_ratio %&gt;% arrange(desc(Ratio_upvotes_per_comment))\nprint(summary_votes_ratio)\n\n# A tibble: 6,520 × 2\n   author             Ratio_upvotes_per_comment\n   &lt;chr&gt;                                  &lt;dbl&gt;\n 1 OokLeeNooma                            5480 \n 2 TheDudeBeto                            3892 \n 3 Poppa_Mo                               2240.\n 4 ScotTheDuck                            2160 \n 5 AbandonedWaterPark                     2118 \n 6 rollingstone                           2096 \n 7 bocaciega                              1876 \n 8 jono9898                               1717 \n 9 PurpleCitron8                          1604 \n10 Jackinapox                             1312.\n# ℹ 6,510 more rows\n\n#Let's see how is the distribution of upvotes per comment\n#I may need to decide to analyze certain number of users only and the \n#level of interaction for those users could be a criteria de decide this\npercentiles &lt;- quantile(summary_votes_ratio$Ratio_upvotes_per_comment, probs = c(0.25, 0.50, 0.75, 0.90))\n\nprint(percentiles)\n\n      25%       50%       75%       90% \n 1.666667  3.666667 11.000000 31.161905 \n\n\nNow I am working on setting the data base for network analysis."
  },
  {
    "objectID": "posts/Post 2 - Scrapping the data and Exploratory Analysis/Final Project Post 2.html#final-project---post-2---scrapping-and-exploring-the-data.",
    "href": "posts/Post 2 - Scrapping the data and Exploratory Analysis/Final Project Post 2.html#final-project---post-2---scrapping-and-exploring-the-data.",
    "title": "Final Project FB - Scrapping Data and Exploratory Analysis",
    "section": "",
    "text": "I am interested in understanding how social media users influence each other and create communities around specific topics.\nSpecifically, I would like to explore this topic using Reddit to understand more in the context of domestic Politics.\n\n\n\nIn particular:\n\nHow are Reddit users connected/related in the “Politics” subreddit (r/politics), particularly when it comes to topics related to Biden and Trump?\nAre there different communities (networks) for Biden and Trump?\nIs there a relationship between “upvotes” for a post, number of comments and how it is related to the key users in the network?\n\n\nlibrary(devtools)\n\nLoading required package: usethis\n\n\nWarning: package 'usethis' was built under R version 4.3.2\n\nlibrary(tidytext)\n\nWarning: package 'tidytext' was built under R version 4.3.3\n\nlibrary(dplyr)\n\nWarning: package 'dplyr' was built under R version 4.3.2\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'tidyr' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.2\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'lubridate' was built under R version 4.3.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ ggplot2   3.5.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(quanteda)\n\nWarning: package 'quanteda' was built under R version 4.3.3\n\n\nPackage version: 4.0.1\nUnicode version: 15.1\nICU version: 74.1\nParallel computing: 8 of 8 threads used.\nSee https://quanteda.io for tutorials and examples.\n\nlibrary(quanteda.textplots)\n#library(RedditExtractoR)\nlibrary(RCurl)\n\nWarning: package 'RCurl' was built under R version 4.3.2\n\n\n\nAttaching package: 'RCurl'\n\nThe following object is masked from 'package:tidyr':\n\n    complete\n\n\n\n\n\n\nI scraped data from the Politics subreddit (r/politics) on April 2nd 2024 using R (RedditExtractoR package)\n\nThe code below is inactive because it can take a lot of time to run it. So I already scrapped the data and saved the files as csv.\n\n#politics_reddit &lt;- find_thread_urls(subreddit = \"politics\", sort_by=\"new\", period = \"day\")\n\n#politics_reddit_comments &lt;- get_thread_content(politics_reddit$url)\n\n#Separate the lists into different objects\n\n#politics_list1 &lt;- politics_reddit_comments[[1]] \n#politics_list2 &lt;- politics_reddit_comments[[2]]\n\n### Saving all the lists in csv to avoid the need to scrap the data several times\n\n#write.csv(politics_reddit, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments1.csv\")\n\n#write.csv(politics_list1, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments2.csv\")\n\n#write.csv(politics_list2, file = \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/R-695N-Network/Final Project/data/politics_comments3.csv\")\n\n\nThis subreddit has 8.5 million users, so the data can be very extensive, however the package used here (RedditExtractoR) pulled the last 1000 post only.\n\n\ngetwd()\n\n[1] \"C:/Users/fbeta/OneDrive/1_UMASS_DACSS/695N - Social Network/695NBlog_Felix_Betancourt/posts/Post 2 - Scrapping the data and Exploratory Analysis\"\n\npolitik1 &lt;- read.csv(\"politics_comments1.csv\")\npolitik2 &lt;- read.csv(\"politics_comments2.csv\")\npolitik3 &lt;- read.csv(\"politics_comments3.csv\")\nhead(politik1)\n\n                                                                                                   X\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n    date_utc  timestamp\n1 2024-03-26 1711463500\n2 2024-03-26 1711463310\n3 2024-03-26 1711462666\n4 2024-03-26 1711462651\n5 2024-03-26 1711462570\n6 2024-03-26 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit comments\n1       politics       34\n2       politics       21\n3       politics      194\n4       politics       24\n5       politics       43\n6       politics       15\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n\ndim(politik1)\n\n[1] 983   8\n\nhead(politik2)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                                   url\n1          https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2   https://www.reddit.com/r/politics/comments/1bo99ng/why_the_supreme_court_abortion_pill_case_is_so/\n3   https://www.reddit.com/r/politics/comments/1bo90vd/2015_securities_fraud_charges_against_texas_ag/\n4    https://www.reddit.com/r/politics/comments/1bo90oj/biden_campaign_calls_trump_weak_and_desperate/\n5 https://www.reddit.com/r/politics/comments/1bo8zhu/felony_securities_fraud_charges_against_attorney/\n6   https://www.reddit.com/r/politics/comments/1bo8u1n/trump_is_up_to_his_old_tricks_to_pay_his_bills/\n             author      date  timestamp\n1  Cybertronian1512 3/26/2024 1711463500\n2           ban_hus 3/26/2024 1711463310\n3      coasterghost 3/26/2024 1711462666\n4           Quirkie 3/26/2024 1711462651\n5      texastribune 3/26/2024 1711462570\n6 thenationmagazine 3/26/2024 1711462189\n                                                                                               title\n1                Supreme Court starts arguments as Biden administration defends abortion pill access\n2                               Why the Supreme Court abortion pill case is so fraught for the right\n3   2015 securities fraud charges against Texas AG Ken Paxton to be dropped in deal with prosecutors\n4                 Biden campaign calls Trump \\030weak and desperate\\031 after New York court hearing\n5 Felony securities fraud charges against Attorney General Ken Paxton to be dropped after nine years\n6                                                     Trump Is Up to His Old Tricks to Pay His Bills\n  text subreddit score upvotes downvotes up_ratio total_awards_received golds\n1       politics   304     304         0     0.95                     0     0\n2       politics   127     127         0     0.92                     0     0\n3       politics  1250    1250         0     0.95                     0     0\n4       politics   791     791         0     0.96                     0     0\n5       politics   421     421         0     0.91                     0     0\n6       politics   226     226         0     0.91                     0     0\n  cross_posts comments\n1           0       34\n2           0       21\n3           0      194\n4           0       24\n5           0       43\n6           0       15\n\ndim(politik2)\n\n[1] 983  16\n\nhead(politik3)\n\n  X\n1 1\n2 2\n3 3\n4 4\n5 5\n6 6\n                                                                                          url\n1 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n2 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n3 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n4 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n5 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n6 https://www.reddit.com/r/politics/comments/1bo9ce0/supreme_court_starts_arguments_as_biden/\n         author      date  timestamp score upvotes downvotes golds\n1 AutoModerator 3/26/2024 1711463501     1       1         0     0\n2   EmmaLouLove 3/26/2024 1711465125    79      79         0     0\n3       ctguy54 3/26/2024 1711466287    41      41         0     0\n4   EmmaLouLove 3/26/2024 1711466455    13      13         0     0\n5        msfamf 3/26/2024 1711467091    19      19         0     0\n6   EmmaLouLove 3/26/2024 1711467635    13      13         0     0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        comment\n1 \\nAs a reminder, this subreddit [is for civil discussion.](/r/politics/wiki/index#wiki_be_civil)\\n\\nIn general, be courteous to others. Debate/discuss/argue the merits of ideas, don't attack people. Personal insults, shill or troll accusations, hate speech, any suggestion or support of harm, violence, or death, and other rule violations can result in a permanent ban. \\n\\nIf you see comments in violation of our rules, please report them.\\n\\n For those who have questions regarding any media outlets being posted on this subreddit, please click [here](https://www.reddit.com/r/politics/wiki/approveddomainslist) to review our details as to our approved domains list and outlet criteria.\\n \\n We are actively looking for new moderators.  If you have any interest in helping to make this subreddit a place for quality discussion, please fill out [this form](https://docs.google.com/forms/d/1y2swHD0KXFhStGFjW6k54r9iuMjzcFqDIVwuvdLBjSA).\\n \\n\\n***\\n\\n\\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/politics) if you have any questions or concerns.*\n2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                US Solicitor General Elizabeth Prelogar reminded the Supreme Court the courts have no business questioning the FDA\\031s expertise on whether a drug should be approved or not.\n3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        This will not stop the conservatives on the court from believing that they know best. \\n\\nNext the court will decide whether you can take aspirin, Tylenol, or Motrin.\n4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             I am guessing even this SCOTUS knows that inserting themselves into FDA decisions will cause the floodgates to open.  What would be the next drug that would be brought before them?  It could be any drug advertised with the multiple warnings of side effects including death.\n5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 &gt;What would be the next drug that would be brought before them? \\n\\nIf current trends and Republican talking points are any indication it's birth control.\n6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     True.  There is an ongoing attack by the conservative justices on Americans\\031 personal privacy rights.  \\n\\nClarence Thomas called for overturning the constitutional rights the court had affirmed for access to contraceptives and LGBTQ rights in his Roe opinion.  \\034In future cases, we should reconsider all of this Court\\031s substantive due process precedents, including Griswold, Lawrence, and Obergefell.\\035\\n\\nRepublicans seem hellbent on inserting themselves into anything they don\\031t agree with, whether it be food for needy children or a woman\\031s autonomy.  People should remember this when they vote.\n  comment_id\n1          1\n2          2\n3        2_1\n4      2_1_1\n5    2_1_1_1\n6  2_1_1_1_1\n\ndim(politik3)\n\n[1] 12414    11\n\n\nAs we can see the the information in object “politik1” is redundant with the information in “politik2” so I won’t use “politik1” at all. “Politik2” contain information about the title of the post, author, and some numeric information like up-down votes, number of replies to the post. “politik3” contain detailed comments on each post.\nI’ll use Text as Data methods to identify key words in the title of the posts (like Biden-Trump, or other topics of interest).\nLet’s do some data wrangling:\n\n# Cleaning and wrangling\n\npolitik_df &lt;- politik2 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df &lt;- as_tibble(politik_df)\npolitik_df$date &lt;- as.Date(politik_df$date, format = \"%m/%d/%Y\")\nhead(politik_df)\n\n# A tibble: 6 × 13\n  author       date       title text  subreddit score upvotes downvotes up_ratio\n  &lt;chr&gt;        &lt;date&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt;    &lt;dbl&gt;\n1 Cybertronia… 2024-03-26 \"Sup… \"\"    politics    304     304         0     0.95\n2 ban_hus      2024-03-26 \"Why… \"\"    politics    127     127         0     0.92\n3 coasterghost 2024-03-26 \"201… \"\"    politics   1250    1250         0     0.95\n4 Quirkie      2024-03-26 \"Bid… \"\"    politics    791     791         0     0.96\n5 texastribune 2024-03-26 \"Fel… \"\"    politics    421     421         0     0.91\n6 thenationma… 2024-03-26 \"Tru… \"\"    politics    226     226         0     0.91\n# ℹ 4 more variables: total_awards_received &lt;int&gt;, golds &lt;int&gt;,\n#   cross_posts &lt;int&gt;, comments &lt;int&gt;\n\npolitik_df2 &lt;- politik3 %&gt;% select(-url, -X, -timestamp) #eliminating non-relevant columns\npolitik_df2 &lt;- as_tibble(politik_df2)\npolitik_df2$date &lt;- as.Date(politik_df2$date, format = \"%m/%d/%Y\")\nhead(politik_df2)\n\n# A tibble: 6 × 8\n  author        date       score upvotes downvotes golds comment      comment_id\n  &lt;chr&gt;         &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;     \n1 AutoModerator 2024-03-26     1       1         0     0 \"\\nAs a rem… 1         \n2 EmmaLouLove   2024-03-26    79      79         0     0 \"US Solicit… 2         \n3 ctguy54       2024-03-26    41      41         0     0 \"This will … 2_1       \n4 EmmaLouLove   2024-03-26    13      13         0     0 \"I am guess… 2_1_1     \n5 msfamf        2024-03-26    19      19         0     0 \"&gt;What w… 2_1_1_1   \n6 EmmaLouLove   2024-03-26    13      13         0     0 \"True.  The… 2_1_1_1_1 \n\n\nLooking at the comments from user “Automoderator”, it is like a Reddit moderator bot reminding rules of the forum, so I’ll delete the rows belonging to AutoModerator”. Also there are few commments “deleted”.\n\npolitik_df2 &lt;- politik_df2[-(which(politik_df2$author %in% \"AutoModerator\")),]\npolitik_df3 &lt;- politik_df2[-(which(politik_df2$author %in% \"[deleted]\")),]\n\nhead(politik_df3)\n\n# A tibble: 6 × 8\n  author      date       score upvotes downvotes golds comment        comment_id\n  &lt;chr&gt;       &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;     \n1 EmmaLouLove 2024-03-26    79      79         0     0 \"US Solicitor… 2         \n2 ctguy54     2024-03-26    41      41         0     0 \"This will no… 2_1       \n3 EmmaLouLove 2024-03-26    13      13         0     0 \"I am guessin… 2_1_1     \n4 msfamf      2024-03-26    19      19         0     0 \"&gt;What wou… 2_1_1_1   \n5 EmmaLouLove 2024-03-26    13      13         0     0 \"True.  There… 2_1_1_1_1 \n6 msfamf      2024-03-26     7       7         0     0 \"I was readin… 2_1_1_1_1…\n\ndim(politik_df3)\n\n[1] 12063     8\n\n\nLet’s explore a bit the text in the comments with a word cloud before continuing with the Network analysis.\n\n#preparing for text analysis\npolitik_vec &lt;- as.vector(politik3$comment)\npolitik_vec2 &lt;- unlist(politik_vec, use.names = FALSE)\n\npolitik_corpus &lt;- corpus(politik_vec2)\n\npolitik_corpus_summary &lt;- summary(politik_corpus)\npolitik_tokens &lt;- tokens(politik_corpus)\n\npolitik_tokens2 &lt;- tokens(politik_corpus, remove_punct=TRUE, remove_numbers = T) %&gt;%\n              tokens_select(pattern=c(stopwords(\"en\"), \"s\", \"just\", \"get\", \"can\", \"like\", \"people\"),\n                            selection=\"remove\") %&gt;%\n             dfm()\n\n#word cloud\ntextplot_wordcloud(politik_tokens2, max.words = 200)\n\nWarning: max.words is deprecated; use max_words instead\n\n\n\n\n\nIt does seem that Trump is dminting the conversations.\nLet’s explore a bit about the authors.\n\n#let's create some tables to see frequencies and totals\n\n#first I created a count column\npolitik_df3 &lt;- politik_df3 %&gt;% mutate(countid = \"1\")\npolitik_df3$countid &lt;- as.numeric(politik_df3$countid)\nhead(politik_df3)\n\n# A tibble: 6 × 9\n  author     date       score upvotes downvotes golds comment comment_id countid\n  &lt;chr&gt;      &lt;date&gt;     &lt;int&gt;   &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;\n1 EmmaLouLo… 2024-03-26    79      79         0     0 \"US So… 2                1\n2 ctguy54    2024-03-26    41      41         0     0 \"This … 2_1              1\n3 EmmaLouLo… 2024-03-26    13      13         0     0 \"I am … 2_1_1            1\n4 msfamf     2024-03-26    19      19         0     0 \"&gt;W… 2_1_1_1          1\n5 EmmaLouLo… 2024-03-26    13      13         0     0 \"True.… 2_1_1_1_1        1\n6 msfamf     2024-03-26     7       7         0     0 \"I was… 2_1_1_1_1…       1\n\n#preparing tables\nlibrary(data.table)\n\nWarning: package 'data.table' was built under R version 4.3.3\n\n\n\nAttaching package: 'data.table'\n\n\nThe following objects are masked from 'package:lubridate':\n\n    hour, isoweek, mday, minute, month, quarter, second, wday, week,\n    yday, year\n\n\nThe following object is masked from 'package:purrr':\n\n    transpose\n\n\nThe following objects are masked from 'package:dplyr':\n\n    between, first, last\n\npolitik_table2 &lt;- data.table(politik_df3)\n\n#total posts grouped by author\ncount_table2 &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarise(Total_posts = sum(countid))\ncount_table2 &lt;- count_table2 %&gt;% arrange(desc(Total_posts))\nprint(count_table2)\n\n# A tibble: 6,520 × 2\n   author               Total_posts\n   &lt;chr&gt;                      &lt;dbl&gt;\n 1 Numerous_Photograph9          84\n 2 bignanoman                    40\n 3 Class_of_22                   34\n 4 Ferelwing                     33\n 5 LivingEnd44                   32\n 6 jimmydublets                  30\n 7 mymomknowsyourmom             25\n 8 grixorbatz                    23\n 9 sndcstle                      23\n10 Logical_Parameters            22\n# ℹ 6,510 more rows\n\nsummary_votes &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Total_Score = sum(score))\nsummary_votes &lt;- summary_votes %&gt;% arrange(desc(Total_Score))\nprint(summary_votes)\n\n# A tibble: 6,520 × 2\n   author          Total_Score\n   &lt;chr&gt;                 &lt;int&gt;\n 1 BukkitCrab             8414\n 2 PalmettoAndMoon        6095\n 3 OokLeeNooma            5480\n 4 Poppa_Mo               4481\n 5 TheDudeBeto            3892\n 6 TintedApostle          3661\n 7 ImmoKnight             3343\n 8 Crazy-Nights           3032\n 9 HotPhilly              2809\n10 Jackinapox             2625\n# ℹ 6,510 more rows\n\n#Upvotes as a proportion of comments\nsummary_votes_ratio &lt;- politik_table2 %&gt;% group_by(author) %&gt;% summarize(Ratio_upvotes_per_comment = sum(upvotes)/sum(countid))\nsummary_votes_ratio &lt;- summary_votes_ratio %&gt;% arrange(desc(Ratio_upvotes_per_comment))\nprint(summary_votes_ratio)\n\n# A tibble: 6,520 × 2\n   author             Ratio_upvotes_per_comment\n   &lt;chr&gt;                                  &lt;dbl&gt;\n 1 OokLeeNooma                            5480 \n 2 TheDudeBeto                            3892 \n 3 Poppa_Mo                               2240.\n 4 ScotTheDuck                            2160 \n 5 AbandonedWaterPark                     2118 \n 6 rollingstone                           2096 \n 7 bocaciega                              1876 \n 8 jono9898                               1717 \n 9 PurpleCitron8                          1604 \n10 Jackinapox                             1312.\n# ℹ 6,510 more rows\n\n#Let's see how is the distribution of upvotes per comment\n#I may need to decide to analyze certain number of users only and the \n#level of interaction for those users could be a criteria de decide this\npercentiles &lt;- quantile(summary_votes_ratio$Ratio_upvotes_per_comment, probs = c(0.25, 0.50, 0.75, 0.90))\n\nprint(percentiles)\n\n      25%       50%       75%       90% \n 1.666667  3.666667 11.000000 31.161905 \n\n\nNow I am working on setting the data base for network analysis."
  }
]